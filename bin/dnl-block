#!/usr/bin/php
<?php

/* ï€£ ï€£ ï‚œ ï€ ï‡« */

$f = fopen( 'php://stdin', 'r' );

while( $line = fgets( $f ) ) {

	[ $cpu1, $cpu2, $temp, $mem1, $mem2, $down, $up, $battery, $date, $weather ]
	= explode(";", $line);

	printf(" ğŸ’» (%3s :%3s)", $cpu1, $cpu2);

	echo " ";
	

	printf("%3sÂº", $temp);

	echo " ";
	
	printf(" ğŸ’½ %2s%%|%5s", $mem1, $mem2);

	echo " ";

	printf(" ï£ %8s", $down);
	printf(" ï¢ %8s", $up);

	echo " ";

	if( $battery > 90 ) {
		$icon = "ï‰€";
	} else if ( $battery > 70 ) {
		$icon = "ï‰";
	} else if ( $battery > 40 ) {
		$icon = "ï‰‚";
	} else if ( $battery > 10 ) {
		$icon = "ï‰ƒ";
	} else {
		$icon = "ï‰„";
	}


	printf(" $icon %4s%%", $battery);

	echo " ";

	printf("ï€ ");
	system("pactl list sinks | awk '/Volume:/{print $5}' | head -1");

	echo " ";

	printf("%s", $date);
	
	echo " ";

	printf("%s", $weather);
}

fclose( $f );
