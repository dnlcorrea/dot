#!/usr/bin/php
<?php

/* ï€£ ï€£ ï‚œ ï€ ï‡« */

$f = fopen( 'php://stdin', 'r' );

while( $line = fgets( $f ) ) {

	[ $cpu1, $cpu2, $temp, $mem1, $mem2, $down, $up, $battery, $date, $weather, $fs ]
	= explode(";", $line);

  printf(" ğŸ§ %.6s", exec("uname -r"));

	echo "\x02 â”‚";

	printf(" ğŸ’» %3s %3s", $cpu1, $cpu2);

	echo " â”‚";
	

	printf("%3sÂº", $temp);

	echo " â”‚";
	
	printf(" %2s%% %5s", $mem1, $mem2);

	echo " â”‚";

	printf(" ï£ %5s", $down);
	printf(" ï¢ %5s", $up);

	if( $battery > 90 ) {
		$icon = "ï‰€";
	} else if ( $battery > 70 ) {
		$icon = "ï‰";
	} else if ( $battery > 40 ) {
		$icon = "ï‰‚";
	} else if ( $battery > 10 ) {
		$icon = "ï‰ƒ";
	} else {
		$icon = "ï‰„";
	}

	//printf(" $icon %4s%%", $battery);

	echo " â”‚";

	printf(" ï€ ");
	system("pactl list sinks | awk '/Volume:/{print $5}' | head -1");

	echo " â”‚";

	
	printf(" %s", $weather);

	echo " â”‚";

	printf(" ğŸ’½ %s", $fs);

	echo " â”‚";
	printf(" %s", $date);
}

fclose( $f );
